<div class="event-card" matRipple>
  <div class="event-card__date-badge">
    <div class="event-card__date-day">{{ formattedStartDateDay }}</div>
    <div class="event-card__date-month">{{ formattedStartDateMonth }}</div>
  </div>

  <!-- Image de l'événement -->
  <div class="event-card__image-container">
    <img [src]="event.mainPhotoUrl || 'https://picsum.photos/seed/' + event.id + '/300/200'"
         [alt]="'Image pour ' + event.name"
         class="event-card__image">
    @if (event.isFeaturedEvent) {
      <div class="event-card__featured-badge">
        <mat-icon>star</mat-icon>
      </div>
    }
  </div>

  <!-- Détails de l'événement -->
  <div class="event-card__content">
    <div class="event-card__category">{{ event.category.name }}</div>
    <h3 class="event-card__title">{{ event.name }}</h3>

    <div class="event-card__location">
      <mat-icon class="event-card__icon">location_on</mat-icon>
      <span>{{ displayLocation }}</span>
    </div>

    @if (event.shortDescription) {
      <p class="event-card__description">
        {{ event.shortDescription | slice:0:80 }}{{ event.shortDescription.length > 80 ? '...' : '' }}
      </p>
    }

    <!-- Prix ou statut gratuit -->
    <div class="event-card__price-container">
      @if (event.isFreeEvent) {
        <span class="event-card__free-tag">GRATUIT</span>
      } @else if (getMinTicketPrice() > 0) {
        <span class="event-card__price">{{ getMinTicketPrice() | currency:'EUR':'symbol':'1.2-2':'fr' }}</span>
      } @else {
        <span class="event-card__price-na">Prix à venir</span>
      }
    </div>
  </div>

  <!-- Bouton d'action -->
  <div class="event-card__action">
    <button mat-flat-button color="primary" class="event-card__button" (click)="viewEventDetails(event.id)">
      <span>Découvrir</span>
      <mat-icon>arrow_forward</mat-icon>
    </button>
  </div>
</div>
